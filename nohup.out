
Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

2025-08-06 00:28:53,322 - 140307154163456 - user_agent.py-user_agent:11 - WARNING: USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-08-06 00:28:54.053 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/cavatar-dev/demo/mmrag/home.py", line 35, in <module>
    from utils import *
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py", line 41, in <module>
    from serpapi import GoogleSearch #, BingSearch
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: cannot import name 'GoogleSearch' from 'serpapi' (/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/serpapi/__init__.py)
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-08-06 00:29:29.329 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/cavatar-dev/demo/mmrag/home.py", line 35, in <module>
    from utils import *
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py", line 41, in <module>
    from serpapi import GoogleSearch #, BingSearch
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: cannot import name 'GoogleSearch' from 'serpapi' (/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/serpapi/__init__.py)
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-08-06 00:29:47.985 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/home.py", line 14, in <module>
    from configs.utils import *
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py", line 41, in <module>
    from serpapi import GoogleSearch #, BingSearch
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: cannot import name 'GoogleSearch' from 'serpapi' (/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/serpapi/__init__.py)
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-08-06 00:30:16.796 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/home.py", line 14, in <module>
    from configs.utils import *
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utils.py", line 42, in <module>
    from langchain_deepseek import ChatDeepSeek
ModuleNotFoundError: No module named 'langchain_deepseek'
2025-08-06 00:34:27.320 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/home.py", line 31, in <module>
    aoss_host = read_key_value(".aoss_config.txt", "AOSS_host_name")
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/configs/utility.py", line 366, in read_key_value
    with open(file_path, 'r') as file:
         ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '.aoss_config.txt'
2025-08-06 00:35:13.029 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/home.py", line 193, in <module>
    response = st.session_state["openai_client"].chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/openai/_utils/_utils.py", line 274, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/openai/resources/chat/completions.py", line 815, in create
    return self._post(
           ^^^^^^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/openai/_base_client.py", line 1277, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/openai/_base_client.py", line 954, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/openai/_base_client.py", line 1058, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'object': 'error', 'message': 'The model `gemma-3N-finetune` does not exist.', 'type': 'NotFoundError', 'param': None, 'code': 404}
2025-08-06 00:36:21.938 Uncaught app exception
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "/home/aaron/.conda/envs/dev3-11/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "/home/aaron/src/first-aid/demo/kaggle-gemma-3n-challenge/home.py", line 205, in <module>
    usages = f'Completion_tokens: {response.usage.completion_tokens}, Prompt_tokens: {response.usage.prompt_tokens}, Total_tokens:{response.usage.total_tokens}'
                                   ^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'usage'
